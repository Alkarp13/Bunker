(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{tjUo:function(e,t,r){"use strict";r.r(t);var n=r("q1tI"),o=r.n(n),i=r("i8i4"),a=r.n(i),s=r("17x9"),c=r.n(s),u=r("Ar1z"),l=r("LoP4"),f=r("Cino");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,r,n,i=m(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={is_ready:!1},t.setReadyState=t.setReadyState.bind(b(t)),t}return t=a,(r=[{key:"setReadyState",value:function(e){var t=this;fetch("/set_ready",{method:"POST"}).then((function(e){return e.json()})).then((function(e){"S"===e.lobby_state&&(window.location.href="/person/"),t.setState({is_ready:!t.is_ready})}),(function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement(u.a,{display:"flex",height:100,width:"100%",float:"left",padding:16,borderRadius:5,background:"rgba(0, 0, 0, 0.3)"},o.a.createElement(u.a,{float:"left",display:"flex",flex:1,justifyContent:"left",alignItems:"center",flexDirection:"row"},this.props.users.map((function(e,t){return o.a.createElement(l.a,{key:t,name:e.first_name,size:80,marginRight:16,color:e.ready_state?"green":"red"})}))),o.a.createElement(u.a,null,o.a.createElement(f.a,{appearance:"primary",disabled:this.state.is_ready,onClick:function(){return e.setReadyState()}},"Ready")))}}])&&h(t.prototype,r),n&&h(t,n),a}(o.a.Component);g.propTypes={lobby_state:c.a.string,users:c.a.array.isRequired};var _=g,w=r("uu8G"),E=r("ja1H"),S=r("ijfN");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=x(e);if(t){var o=x(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return C(this,r)}}function C(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B={userSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",OUserSelect:"none"},q={title:{userSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",OUserSelect:"none",overflow:"hidden",width:"100%",height:25},frame:{position:"absolute",margin:0,padding:0,overflow:"hidden"},transition:"all 0.25s ease-in-out"};function N(e){return e?{transition:e,WebkitTransition:e,msTransition:e,MozTransition:e,OTransition:e}:{}}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,r,n,i=T(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(t=i.call(this,e)).props,n=r.transition,o=r.theme;return t.cursorX=0,t.cursorY=0,t.clicked=null,t.allowTransition=!1,t.frameRect={},t.state={cursor:"auto",transition:N(n||o.transition)},t.mouseMoveListener=t._onMove.bind(F(t)),t.mouseUpListener=t._onUp.bind(F(t)),t}return t=a,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialWidth,r=e.initialHeight,n=e.initialTop,o=e.initialLeft,i=e.attachedTo,a=this.getFrameRect();this.frameRect.width=t||a.width,this.frameRect.height=r||a.height,this.frameRect.top=n||this.refs.frame.offsetTop,this.frameRect.left=o||this.refs.frame.offsetLeft,i.addEventListener("mousemove",this.mouseMoveListener),i.addEventListener("mouseup",this.mouseUpListener)}},{key:"componentWillUnmount",value:function(){this.props.attachedTo.removeEventListener("mousemove",this.mouseMoveListener),this.props.attachedTo.removeEventListener("mouseup",this.mouseUpListener)}},{key:"transform",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.getFrameRect(),o=this.refs.frame.offsetTop,i=this.refs.frame.offsetLeft,a=n.width,s=n.height;r&&(this.prevState={top:o,left:i,width:a,height:s}),e&&(this.frameRect.top="number"==typeof e.top?e.top:e.bottom?e.bottom-(e.height||s):o,this.frameRect.left="number"==typeof e.left?e.left:e.right?e.right-(e.width||a):i,this.frameRect.width="number"==typeof e.width?e.width:"number"==typeof e.right&&"number"==typeof e.left?e.right-e.left:"number"==typeof e.right?e.right-this.frameRect.left:a,this.frameRect.height="number"==typeof e.height?e.height:"number"==typeof e.bottom&&"number"==typeof e.top?e.top-e.bottom:"number"==typeof e.bottom?e.bottom-this.frameRect.top:s,this.allowTransition=t,this.props.onTransform&&setTimeout(this.props.onTransform.bind(this,this.frameRect,this.prevState)),this.forceUpdate())}},{key:"restore",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.transform(this.prevState,e)}},{key:"minimize",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.transform({width:0,height:0},e)}},{key:"maximize",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.transform({top:0,left:0,width:this.props.attachedTo.innerWidth,height:this.props.attachedTo.innerHeight},e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.style,n=t.contentStyle,i=t.titleStyle,a=t.theme,s=t.minWidth,c=t.minHeight,u=t.animate,l=t.cursorRemap,f=t.children,p=t.boundary,h=t.onMove,y=t.onResize,m=R({},this.frameRect);if(this.clicked){var d=this.hitEdges,b=this.clicked.boundingBox;if(d.top||d.bottom||d.left||d.right){if(d.right&&(this.frameRect.width=Math.max(this.cursorX-b.left,s)+"px"),d.bottom&&(this.frameRect.height=Math.max(this.cursorY-b.top,c)+"px"),d.left){var v=b.right-this.cursorX;v>s&&(this.frameRect.width=v,this.frameRect.left=this.clicked.frameLeft+this.cursorX-this.clicked.x)}if(d.top){var g=b.bottom-this.cursorY;g>c&&(this.frameRect.height=g,this.frameRect.top=this.clicked.frameTop+this.cursorY-this.clicked.y)}}else"move"===this.state.cursor&&(this.frameRect.top=this.clicked.frameTop+this.cursorY-this.clicked.y,this.frameRect.left=this.clicked.frameLeft+this.cursorX-this.clicked.x)}if(p){var _=this.frameRect,w=_.top,E=_.left,S=_.width,O=_.height;"number"==typeof p.top&&w<p.top&&(this.frameRect.top=p.top),"number"==typeof p.bottom&&w+O>p.bottom&&(this.frameRect.top=p.bottom-O,"number"==typeof p.top&&this.frameRect.top<p.top&&(this.frameRect.top=p.top,this.frameRect.height=p.bottom-p.top)),"number"==typeof p.left&&E<p.left&&(this.frameRect.left=p.left),"number"==typeof p.right&&w+O>p.right&&(this.frameRect.left=p.right-S,"number"==typeof p.left&&this.frameRect.left<p.left&&(this.frameRect.left=p.left,this.frameRect.width=p.right-p.left))}var k=this.state.cursor;if(l){var j=l.call(this,k);j&&"string"==typeof j&&(k=j)}var P={cursor:k,clicked:this.clicked,frameRect:this.frameRect,allowTransition:this.allowTransition},D=o.a.createElement("div",{ref:"title",style:R(R(R({},a.title),i),{},{cursor:k})},"string"!=typeof this.props.titleBar?o.a.cloneElement(this.props.titleBar,{dnrState:P}):this.props.titleBar),T=o.a.Children.map(f,(function(e){return"string"==typeof e?e:o.a.cloneElement(e,{dnrState:P})})),C=u&&this.allowTransition?this.state.transition:{};return!h||m.top===this.frameRect.top&&m.left===this.frameRect.left||setTimeout(h.bind(this,this.frameRect,m)),!y||m.width===this.frameRect.width&&m.height===this.frameRect.height||setTimeout(y.bind(this,this.frameRect,m)),o.a.createElement("div",{ref:"frame",onMouseDownCapture:this._onDown.bind(this),onMouseMoveCapture:function(t){null!==e.clicked&&t.preventDefault()},style:R(R(R(R(R({},a.frame),C),{},{cursor:k},r),this.frameRect),this.clicked?B:{})},D,o.a.createElement("div",{ref:"content",className:"contentClassName",style:R({position:"absolute",width:"100%",top:a.title.height,bottom:0},n)},T))}},{key:"getFrameRect",value:function(){return this.refs.frame.getBoundingClientRect()}},{key:"getDOMFrame",value:function(){return this.refs.frame}},{key:"getTitleRect",value:function(){return this.refs.title.getBoundingClientRect()}},{key:"_cursorStatus",value:function(e){var t=this.getFrameRect();if(this.cursorX=e.clientX,this.cursorY=e.clientY,!this.clicked){var r=this.props.edgeDetectionRange,n=this.cursorY<=t.top+r,o=this.cursorY>=t.bottom-r,i=this.cursorX<=t.left+r,a=this.cursorX>=t.right-r,s="auto";if(n||o||i||a)a&&o||i&&n?s="nwse-resize":a&&n||o&&i?s="nesw-resize":a||i?s="ew-resize":(o||n)&&(s="ns-resize"),e.stopPropagation();else{var c=this.getTitleRect();this.cursorX>c.left&&this.cursorX<c.right&&this.cursorY>c.top&&this.cursorY<c.bottom&&(s="move")}this.hitEdges={top:n,bottom:o,left:i,right:a},s!==this.state.cursor&&this.setState({cursor:s})}}},{key:"_onDown",value:function(e){this.allowTransition=!1,this._cursorStatus(e);var t=this.getFrameRect();this.clicked={x:e.clientX,y:e.clientY,boundingBox:t,frameTop:this.refs.frame.offsetTop,frameLeft:this.refs.frame.offsetLeft}}},{key:"_onUp",value:function(e){this.clicked=null,this._cursorStatus(e)}},{key:"_onMove",value:function(e){this._cursorStatus(e),null!==this.clicked&&this.forceUpdate()}}])&&P(t.prototype,r),n&&P(t,n),a}(o.a.Component);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return X(this,r)}}function X(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}z.propTypes={titleBar:c.a.oneOfType([c.a.object,c.a.string]),style:c.a.object,contentClassName:c.a.object,contentStyle:c.a.object,titleStyle:c.a.object,theme:c.a.object,minWidth:c.a.number,minHeight:c.a.number,edgeDetectionRange:c.a.number,initialWidth:c.a.number,initialHeight:c.a.number,initialTop:c.a.number,initialLeft:c.a.number,transition:c.a.string,animate:c.a.bool,onMove:c.a.func,onResize:c.a.func,onTransform:c.a.func,cursorRemap:c.a.func,boundary:c.a.object,attachedTo:c.a.object},z.defaultProps={minWidth:20,minHeight:20,edgeDetectionRange:4,theme:q,initialWidth:null,initialHeight:null,initialTop:null,initialLeft:null,animate:!0,attachedTo:window};var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(a,e);var t,r,n,i=W(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={hover:!1,down:!1},t}return t=a,(r=[{key:"render",value:function(){var e=this,t=this.props,r=t.style,n=t.hoverStyle,i=t.downStyle,a=t.children,s=t.cursor,c=I(t,["style","hoverStyle","downStyle","children","cursor"]),u=/resize$/.test(s),l=H(H(H(H({},r),this.state.hover&&!u?n:{}),this.state.down&&!u?i:{}),{},{cursor:s});return o.a.createElement("button",L({onMouseEnter:function(){return e.setState({hover:!0})},onMouseLeave:function(){return e.setState({hover:!1,down:!1})},onMouseDown:function(){return e.setState({down:!0})},onMouseUp:function(){return e.setState({down:!1})},style:l},c),a)}}])&&Y(t.prototype,r),n&&Y(t,n),a}(o.a.Component);function K(e){return o.a.createElement("div",null,o.a.createElement("div",e.buttons,o.a.createElement($,L({},e.button1,{cursor:e.dnrState.cursor}),e.button1Children),o.a.createElement($,L({},e.button2,{cursor:e.dnrState.cursor}),e.button2Children),o.a.createElement($,L({},e.button3,{cursor:e.dnrState.cursor}),e.button3Children)),e.children)}var V=function(e){var t=e.title,r=e.onClose,n=e.onMinimize,i=e.onMaximize,a=e.titleBarColor,s=void 0===a?"#0095ff":a,c={height:25},u={padding:0,margin:0,width:25,height:25,outline:"none",border:"none",textAlign:"center"},l={style:{height:25,position:"absolute",right:0,margin:0,display:"flex",alignItems:"center",verticalAlign:"baseline"}},f={style:H(H({},u),{},{fontSize:"20px",fontWeight:500,lineHeight:"36px",backgroundColor:s}),hoverStyle:{backgroundColor:"#ec6060"},downStyle:{backgroundColor:"#bc4040"},onClick:r},p={style:H(H({},u),{},{lineHeight:"22px",backgroundColor:s}),hoverStyle:{backgroundColor:"rgba(0, 0, 0, 0.1)"},downStyle:{backgroundColor:"rgba(0, 0, 0, 0.2)"},onClick:n},h={style:H(H({},u),{},{lineHeight:"12px",backgroundColor:s}),hoverStyle:{backgroundColor:"rgba(0, 0, 0, 0.1)"},downStyle:{backgroundColor:"rgba(0, 0, 0, 0.2)"},onClick:i};return{theme:{title:H(H({},q.title),{},{fontFamily:"Helvetica, sans-serif",background:s,color:"rgba(0, 0, 0, 0.7)",fontSize:14,height:25}),frame:H({},q.frame),transition:"all 0.25s ease-in-out"},titleBar:o.a.createElement(K,{style:c,buttons:l,button1:p,button2:h,button3:f,button1Children:"‒",button2Children:"□",button3Children:"˟"},o.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},t))}},Q=r("FJL0"),Z=r("raqX"),ee=r("GWmA");function te(e){var t=e.person.username;return o.a.createElement(u.a,{paddingLeft:5,paddingRight:5,paddingBottom:5},o.a.createElement(u.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Male: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.male)),o.a.createElement(u.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Age: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.age)),o.a.createElement(u.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"IMT: "),o.a.createElement(Z.a,{color:"#DDEBF7"},function(e,t){if(void 0===e||void 0===t)return"";var r=e/(t/100*(t/100)),n="";return r>35?n=" (you are very obese so you cannot have children)":r>25&&r<=35?n=" (you are obese in the first degree)":r>18&&r<=25?n=" (you have a normal physique)":r>15&&r<=18?n=" (you have underweight)":r<=15&&(n=" (you are very underweight so you cannot have children)"),"weight - "+e+"kg, growth - "+t+"cm, imt - "+r.toFixed(1)+n}(e.person.weight,e.person.growth))),o.a.createElement(u.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Profession: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.profession)),o.a.createElement(u.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Life: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.life)),o.a.createElement(u.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Phobia: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.phobia)),o.a.createElement(u.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Hobbi: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.hobbi)),o.a.createElement(u.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Character: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.character)),o.a.createElement(u.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Skill: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.skill)),o.a.createElement(u.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Inventar: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.inventar)),o.a.createElement(u.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"First action card: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.action_1)),o.a.createElement(u.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Second action card: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.action_2)),e.other?o.a.createElement(ee.a,{label:"Notes",value:e.person.note,className:"black-theme",onChange:function(r){return e.changeNoteHandler(r.target.value,t)}}):null)}te.propTypes={person:c.a.object.isRequired,other:c.a.bool.isRequired,changeNoteHandler:c.a.func};var re=te;function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ue(e);if(t){var o=ue(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ce(this,r)}}function ce(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le={width:"300px",height:"550px",top:"30%",left:"50%",backgroundColor:"rgba(0, 0, 0, 0.8)"},fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(a,e);var t,r,n,i=se(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={selected_field:"male"},t}return t=a,(r=[{key:"checkDisabled",value:function(e,t){if(e.length>0){var r=!1;return e.forEach((function(e){e===t&&(r=!0)})),r}return!1}},{key:"render",value:function(){var e=this;return o.a.createElement(z,oe({ref:"dnr"},V({title:"My person card"}),{style:le}),o.a.createElement(re,{person:this.props.person,other:!1}),o.a.createElement(u.a,{display:"flex",width:"100%",float:"left"},o.a.createElement(S.a,{width:200,className:"black-theme",marginTop:10,marginLeft:5,defaultValue:"male",label:"Choose field to show: ",onChange:function(t){return e.setState({selected_field:t.target.value})}},o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"male"),value:"male"},"Male"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"age"),value:"age"},"Age"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"growth"),value:"imt"},"IMT"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"profession"),value:"profession"},"Profession"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"life"),value:"life"},"Life"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"phobia"),value:"phobia"},"Phobia"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"hobbi"),value:"hobbi"},"Hobbi"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"character"),value:"character"},"Character"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"skill"),value:"skill"},"Skill"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"inventar"),value:"inventar"},"Inventar"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"action_1"),value:"action_1"},"First action card"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"action_2"),value:"action_2"},"Second action card")),o.a.createElement(f.a,{width:70,marginTop:34,marginLeft:10,intent:"success",className:"black-theme",onClick:function(){return e.props.sendCharacteristicToSocked(e.state.selected_field)}},"Show")))}}])&&ie(t.prototype,r),n&&ie(t,n),a}(o.a.Component);fe.propTypes={person:c.a.object.isRequired,sendCharacteristicToSocked:c.a.func.isRequired};var pe=fe;function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ge(e);if(t){var o=ge(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ve(this,r)}}function ve(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e={width:"300px",height:"550px",top:"30%",left:"50%",backgroundColor:"rgba(0, 0, 0, 0.8)"},we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(a,e);var t,r,n,i=be(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(r=[{key:"render",value:function(){return o.a.createElement("div",null,this.props.other_persons.map((function(e,t){var r=this;return e.is_shown?o.a.createElement(z,ye({key:t,ref:"dnr"},V({title:e.first_name+" "+e.last_name,onClose:function(){return r.props.hideOtherPerson(e.username)},onMinimize:function(){return r.props.hideOtherPerson(e.username)}}),{title:e.first_name+" "+e.last_name,style:_e}),o.a.createElement(re,{person:e,other:!0,changeNoteHandler:this.props.changeNoteHandler})):null}),this))}}])&&me(t.prototype,r),n&&me(t,n),a}(o.a.Component);we.propTypes={other_persons:c.a.array.isRequired,changeNoteHandler:c.a.func.isRequired,hideOtherPerson:c.a.func.isRequired};var Ee=we;function Se(e){return o.a.createElement("div",{className:"legend"},">",o.a.createElement(u.a,{width:"100%"},o.a.createElement("div",{className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Current turn: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.turn)),o.a.createElement("div",{className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Number of seats in bunker: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.number_of_seats))),o.a.createElement(u.a,{width:"100%",className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Story: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.story)),o.a.createElement(u.a,{width:"100%"},o.a.createElement("div",{className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Bunker square: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.legend.square," m",o.a.createElement("sup",null,"2"))),o.a.createElement("div",{className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Awaiting time in bunker: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.legend.await_time," days")),e.legend.medicines?o.a.createElement("div",{className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"First aid kits: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.legend.medicines)):null,e.legend.armor?o.a.createElement("div",{className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Pistols: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.legend.armor)):null,e.legend.additional_info?o.a.createElement("div",{className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Additional info: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.legend.additional_info)):null))}Se.propTypes={story:c.a.string.isRequired,legend:c.a.object.isRequired,number_of_seats:c.a.number.isRequired,turn:c.a.number.isRequired};var Oe=Se,ke=r("9T5R"),Re=r("Y+0o");function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var De=function(e){var t=e.remainingTime,r=Object(n.useRef)(t),i=Object(n.useRef)(null),a=Object(n.useRef)(!1),s=je(Object(n.useState)(0),2)[1];r.current!==t?(a.current=!0,i.current=r.current,r.current=t):a.current=!1,0===t&&setTimeout((function(){s((function(e){return e+1}))}),20);var c=a.current;return o.a.createElement("div",{className:"time-wrapper"},o.a.createElement("div",{key:t,className:"time ".concat(c?"up":"")},t),null!==i.current&&o.a.createElement("div",{key:i.current,className:"time ".concat(c?"":"down")},i.current))};function Te(e){return o.a.createElement("div",{className:"timer-wrapper"},o.a.createElement(Re.CountdownCircleTimer,{isPlaying:e.isPlaying,duration:e.duration,colors:[["#004777",.33],["#F7B801",.33],["#A30000"]]},De))}Te.propTypes={duration:c.a.number.isRequired,isPlaying:c.a.bool.isRequired};var Ce=Te;function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ze(e);if(t){var o=ze(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ne(this,r)}}function Ne(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(a,e);var t,r,n,i=qe(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={isPlaying:!1},t}return t=a,(r=[{key:"render",value:function(){var e=this,t=this.state.isPlaying;return o.a.createElement(ke.a,{title:"Your time to talk",isShown:this.props.isShown,width:270,hasFooter:!1,hasClose:!1},o.a.createElement(Ce,{isPlaying:t,duration:this.props.duration}),o.a.createElement("div",{className:"bottom-alert-footer"},o.a.createElement(f.a,{intent:"success",disabled:t,onClick:function(){return e.setState({isPlaying:!0})}},"Start speech"),o.a.createElement(f.a,{appearance:"primary",intent:"danger",onClick:function(){return e.props.passMove()}},"Stop speech")))}}])&&xe(t.prototype,r),n&&xe(t,n),a}(o.a.Component);Me.propTypes={username:c.a.string,duration:c.a.number.isRequired,isShown:c.a.bool,passMove:c.a.func.isRequired};var Le=Me,Ae=r("4EMb"),He=r.n(Ae)()(o.a);function Ue(e){return o.a.createElement(u.a,{display:"flex",height:100,width:"100%",float:"left",padding:16,borderRadius:5,background:"rgba(0, 0, 0, 0.3)"},o.a.createElement(u.a,{float:"left",display:"flex",flex:1,justifyContent:"left",alignItems:"center",flexDirection:"row"},e.other_persons.map((function(t,r){return o.a.createElement("div",{key:r},o.a.createElement(He,{autoPosition:!0,events:!0}),o.a.createElement(l.a,{name:t.username,size:80,"data-rh":t.username+", "+t.first_name,marginRight:16,isSolid:e.persons_query[e.current_person-1].username===t.username,onClick:function(t){return e.showOtherPerson(t)}}))}),this)))}Ue.propTypes={other_persons:c.a.array.isRequired,persons_query:c.a.array.isRequired,current_person:c.a.number.isRequired,showOtherPerson:c.a.func.isRequired};var Ie=Ue,Ye=r("kFyS"),Je=r("9UYP");function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ve(e);if(t){var o=Ve(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ke(this,r)}}function Ke(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(a,e);var t,r,n,i=$e(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={anyone_person:"",anyone_card:"male"},t}return t=a,(r=[{key:"render",value:function(){var e=this;return o.a.createElement(Ye.a,{isShown:this.props.is_anyperson_shown,title:"Choose anyone",hasFooter:!1,hasClose:!1,shouldCloseOnOverlayClick:!1},o.a.createElement(Je.a,{openOnFocus:!0,height:40,disabled:!this.props.is_anycard_shown,items:["male","age","IMT","profession","life","phobia","hobbi","character","skill","inventar"],onChange:function(t){return e.setState({anyone_card:t})},placeholder:"Cards"}),o.a.createElement(Je.a,{openOnFocus:!0,height:40,items:this.props.persons_query.map((function(e){return e.username})),onChange:function(t){return e.setState({anyone_person:t})},placeholder:"Usernames"}),o.a.createElement("div",{className:"bottom-alert-footer"},o.a.createElement(f.a,{intent:"success",onClick:function(){return e.props.someoneSelected(e.state.anyone_person,e.state.anyone_card)}},"Send")))}}])&&Xe(t.prototype,r),n&&Xe(t,n),a}(o.a.Component);Qe.propTypes={persons_query:c.a.array.isRequired,is_anyperson_shown:c.a.bool.isRequired,is_anycard_shown:c.a.bool.isRequired,someoneSelected:c.a.func.isRequired};var Ze=Qe;function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=it(e);if(t){var o=it(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ot(this,r)}}function ot(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(a,e);var t,r,n,i=nt(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={person_to_kick:""},t}return t=a,(r=[{key:"render",value:function(){var e=this;return o.a.createElement(ke.a,{title:"Time to kick someone",isShown:this.props.is_round_over,width:320,hasFooter:!1,hasClose:!1},o.a.createElement(Je.a,{openOnFocus:!0,height:40,items:this.props.persons_query.map((function(e){return e.username})),onChange:function(t){return e.setState({person_to_kick:t})},placeholder:"Usernames"}),o.a.createElement("div",{className:"bottom-alert-footer"},o.a.createElement(f.a,{intent:"success",onClick:function(){return e.props.kickSelectedPlayer(e.state.person_to_kick)}},"Kick now")))}}])&&tt(t.prototype,r),n&&tt(t,n),a}(o.a.Component);at.propTypes={persons_query:c.a.array.isRequired,is_round_over:c.a.bool.isRequired,kickSelectedPlayer:c.a.func.isRequired};var st=at;function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=yt(e);if(t){var o=yt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pt(this,r)}}function pt(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?ht(e):t}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(a,e);var t,r,n,i=ft(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={error:null,isLoaded:!1,person:{},other_persons:[],lobby_state:"",story:"",legend:{},number_of_seats:1,turn:1,is_round_over:!1,is_anyperson_shown:!1,is_anycard_shown:!1,current_person:1,persons_query:[]},t.selected_field="",t.passMove=t.passMove.bind(ht(t)),t.showOtherPerson=t.showOtherPerson.bind(ht(t)),t.hideOtherPerson=t.hideOtherPerson.bind(ht(t)),t.sendCharacteristicToSocked=t.sendCharacteristicToSocked.bind(ht(t)),t.kickSelectedPlayer=t.kickSelectedPlayer.bind(ht(t)),t.someoneSelected=t.someoneSelected.bind(ht(t)),t.changeNoteHandler=t.changeNoteHandler.bind(ht(t)),t}return t=a,(r=[{key:"componentDidMount",value:function(){var e=this;if(/person/i.test(window.location.href)){if("https:"==window.location.protocol)var t="wss://";else t="ws://";this.connection=new E.a(t+window.location.host+"/persons"),this.connection.onmessage=function(t){if("update_fields"===t.data)fetch("/get_all_persons",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,lobby_state:t.lobby_state,person:t.current_user,other_persons:t.other_users,story:t.story,legend:t.legend,number_of_seats:t.number_of_seats,turn:t.turn,current_person:t.current_person,persons_query:t.persons_query,is_round_over:t.is_round_over})}));else{var r=JSON.parse(t.data);void 0!==r.update_turn&&e.setState({turn:r.update_turn.turn,current_person:r.update_turn.current_person,is_round_over:r.update_turn.is_round_over})}},fetch("/get_all_persons",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,lobby_state:t.lobby_state,person:t.current_user,other_persons:t.other_users,story:t.story,legend:t.legend,number_of_seats:t.number_of_seats,turn:t.turn,current_person:t.current_person,persons_query:t.persons_query})}),(function(t){console.log(t),e.setState({isLoaded:!0,error:t})}))}else window.location.href="/person/"}},{key:"sendCharacteristicToSocked",value:function(e){var t=this;""!==e&&(this.selected_field=e,"action_1"===e||"action_2"===e?fetch("/get_fields_action",{method:"POST",body:JSON.stringify({field:e})}).then((function(e){return e.json()})).then((function(r){r.is_anyperson_shown||r.is_anycard_shown?t.setState({is_anyperson_shown:r.is_anyperson_shown,is_anycard_shown:r.is_anycard_shown}):t.connection.send(JSON.stringify({value:e}))})):"imt"===e?this.connection.send(JSON.stringify({value:["growth","weight"]})):this.connection.send(JSON.stringify({value:e})))}},{key:"someoneSelected",value:function(e,t){this.state.is_anycard_shown?(this.connection.send(JSON.stringify({value:this.selected_field,someone:e,card:t})),this.setState({is_anyperson_shown:!1,is_anycard_shown:!1})):(this.connection.send(JSON.stringify({value:this.selected_field,someone:e})),this.setState({is_anyperson_shown:!1}))}},{key:"showOtherPerson",value:function(e){var t=this.state.other_persons,r=e.currentTarget.title;t.forEach((function(e){if(e.username===r){var t=e.is_shown;e.is_shown=!t}})),this.sendOtherState(),this.setState({other_persons:t})}},{key:"hideOtherPerson",value:function(e){var t=this.state.other_persons;t.forEach((function(t){t.username===e&&(t.is_shown=!1)})),this.sendOtherState(),this.setState({other_persons:t})}},{key:"passMove",value:function(){this.connection.send(JSON.stringify({current_person:this.state.current_person}))}},{key:"kickSelectedPlayer",value:function(e){this.connection.send(JSON.stringify({kick_person:e,username:this.state.person.username}))}},{key:"changeNoteHandler",value:function(e,t){var r=this.state.other_persons;r.forEach((function(r){r.username===t&&(r.note=e)})),this.sendOtherState(),this.setState({other_persons:r})}},{key:"sendOtherState",value:function(){var e=this.state.other_persons;e.map((function(e){return{username:e.username,is_shown:e.is_shown,note:e.note}})),this.connection.send(JSON.stringify({change_card_state:e,username:this.state.person.username}))}},{key:"render",value:function(){var e=this,t=this.state,r=t.error,n=t.isLoaded,i=t.person,a=t.other_persons,s=t.number_of_seats,c=t.legend,u=t.story,l=t.turn,f=t.current_person,p=t.persons_query,h=t.is_round_over,y=t.is_anyperson_shown,m=t.is_anycard_shown;return r?o.a.createElement("div",null):n?o.a.createElement("div",{width:"100%",height:"100%"},o.a.createElement(Ie,{other_persons:a,persons_query:p,current_person:f,showOtherPerson:this.showOtherPerson}),o.a.createElement(Oe,{story:u,legend:c,number_of_seats:s,turn:l}),o.a.createElement(Le,{username:i.username,duration:i.speak_time,isShown:p[f-1].username===i.username&&!h,passMove:function(){return e.passMove()}}),o.a.createElement(st,{persons_query:p,is_round_over:h,kickSelectedPlayer:this.kickSelectedPlayer}),o.a.createElement(Ze,{persons_query:p,is_anyperson_shown:y,is_anycard_shown:m,someoneSelected:this.someoneSelected}),o.a.createElement(pe,{person:i,sendCharacteristicToSocked:this.sendCharacteristicToSocked}),o.a.createElement(Ee,{other_persons:a,changeNoteHandler:this.changeNoteHandler,hideOtherPerson:this.hideOtherPerson})):o.a.createElement(w.a,{size:32})}}])&&ut(t.prototype,r),n&&ut(t,n),a}(o.a.Component);function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wt(e);if(t){var o=wt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _t(this,r)}}function _t(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(a,e);var t,r,n,i=gt(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={error:null,isLoaded:!1,lobby_state:"",users:[]},t}return t=a,(r=[{key:"componentDidMount",value:function(){var e=this;setInterval((function(t){"S"!==e.state.lobby_state&&fetch("/lobby_state",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,lobby_state:t.lobby_state,users:t.users})}),(function(t){e.setState({isLoaded:!0,error:t})}))}),2e3)}},{key:"render",value:function(){var e=this.state,t=e.error,r=e.isLoaded,n=e.users,i=e.lobby_state;return t?o.a.createElement("div",null):r?"S"===i?o.a.createElement(mt,null):"R"===i?o.a.createElement(_,{lobby_state:i,users:n}):void 0:o.a.createElement(w.a,{size:32})}}])&&bt(t.prototype,r),n&&bt(t,n),a}(o.a.Component);a.a.render(o.a.createElement(Et,null),document.getElementById("app"))}},[["tjUo",7,2,6,3,4,1,5,8]]]);