(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{tjUo:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("i8i4"),a=n.n(i),s=n("uu8G"),c=n("ja1H"),u=n("17x9"),l=n.n(u),f=n("Ar1z"),p=n("LoP4"),h=n("Cino");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,i=b(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={is_ready:!1},t.setReadyState=t.setReadyState.bind(g(t)),t}return t=a,(n=[{key:"setReadyState",value:function(e){var t=this;fetch("/set_ready",{method:"POST"}).then((function(e){return e.json()})).then((function(e){t.props.connection.send(JSON.stringify({update_lobby:!0})),"S"===e.lobby_state&&(window.location.href="/person/"),t.setState({is_ready:!t.is_ready})}),(function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return o.a.createElement(f.a,{display:"flex",height:100,width:"100%",float:"left",padding:16,borderRadius:5,background:"rgba(0, 0, 0, 0.3)"},o.a.createElement(f.a,{float:"left",display:"flex",flex:1,justifyContent:"left",alignItems:"center",flexDirection:"row"},this.props.users.map((function(e,t){return o.a.createElement(p.a,{key:t,name:e.first_name,size:80,marginRight:16,color:e.ready_state?"green":"red"})}))),o.a.createElement(f.a,null,o.a.createElement(h.a,{appearance:"primary",disabled:this.state.is_ready,onClick:function(){return e.setReadyState()}},"Ready")))}}])&&d(t.prototype,n),r&&d(t,r),a}(o.a.Component);w.propTypes={lobby_state:l.a.string,users:l.a.array.isRequired};var E=w,S=n("ijfN");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B={userSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",OUserSelect:"none"},N={title:{userSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",OUserSelect:"none",overflow:"hidden",width:"100%",height:25},frame:{position:"absolute",margin:0,padding:0,overflow:"hidden"},transition:"all 0.25s ease-in-out"};function q(e){return e?{transition:e,WebkitTransition:e,msTransition:e,MozTransition:e,OTransition:e}:{}}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,n,r,i=T(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=(t=i.call(this,e)).props,r=n.transition,o=n.theme;return t.cursorX=0,t.cursorY=0,t.clicked=null,t.allowTransition=!1,t.frameRect={},t.state={cursor:"auto",transition:q(r||o.transition)},t.mouseMoveListener=t._onMove.bind(F(t)),t.mouseUpListener=t._onUp.bind(F(t)),t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialWidth,n=e.initialHeight,r=e.initialTop,o=e.initialLeft,i=e.attachedTo,a=this.getFrameRect();this.frameRect.width=t||a.width,this.frameRect.height=n||a.height,this.frameRect.top=r||this.refs.frame.offsetTop,this.frameRect.left=o||this.refs.frame.offsetLeft,i.addEventListener("mousemove",this.mouseMoveListener),i.addEventListener("mouseup",this.mouseUpListener)}},{key:"componentWillUnmount",value:function(){this.props.attachedTo.removeEventListener("mousemove",this.mouseMoveListener),this.props.attachedTo.removeEventListener("mouseup",this.mouseUpListener)}},{key:"transform",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.getFrameRect(),o=this.refs.frame.offsetTop,i=this.refs.frame.offsetLeft,a=r.width,s=r.height;n&&(this.prevState={top:o,left:i,width:a,height:s}),e&&(this.frameRect.top="number"==typeof e.top?e.top:e.bottom?e.bottom-(e.height||s):o,this.frameRect.left="number"==typeof e.left?e.left:e.right?e.right-(e.width||a):i,this.frameRect.width="number"==typeof e.width?e.width:"number"==typeof e.right&&"number"==typeof e.left?e.right-e.left:"number"==typeof e.right?e.right-this.frameRect.left:a,this.frameRect.height="number"==typeof e.height?e.height:"number"==typeof e.bottom&&"number"==typeof e.top?e.top-e.bottom:"number"==typeof e.bottom?e.bottom-this.frameRect.top:s,this.allowTransition=t,this.props.onTransform&&setTimeout(this.props.onTransform.bind(this,this.frameRect,this.prevState)),this.forceUpdate())}},{key:"restore",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.transform(this.prevState,e)}},{key:"minimize",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.transform({width:0,height:0},e)}},{key:"maximize",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.transform({top:0,left:0,width:this.props.attachedTo.innerWidth,height:this.props.attachedTo.innerHeight},e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.contentStyle,i=t.titleStyle,a=t.theme,s=t.minWidth,c=t.minHeight,u=t.animate,l=t.cursorRemap,f=t.children,p=t.boundary,h=t.onMove,y=t.onResize,d=R({},this.frameRect);if(this.clicked){var m=this.hitEdges,b=this.clicked.boundingBox;if(m.top||m.bottom||m.left||m.right){if(m.right&&(this.frameRect.width=Math.max(this.cursorX-b.left,s)+"px"),m.bottom&&(this.frameRect.height=Math.max(this.cursorY-b.top,c)+"px"),m.left){var v=b.right-this.cursorX;v>s&&(this.frameRect.width=v,this.frameRect.left=this.clicked.frameLeft+this.cursorX-this.clicked.x)}if(m.top){var g=b.bottom-this.cursorY;g>c&&(this.frameRect.height=g,this.frameRect.top=this.clicked.frameTop+this.cursorY-this.clicked.y)}}else"move"===this.state.cursor&&(this.frameRect.top=this.clicked.frameTop+this.cursorY-this.clicked.y,this.frameRect.left=this.clicked.frameLeft+this.cursorX-this.clicked.x)}if(p){var _=this.frameRect,w=_.top,E=_.left,S=_.width,O=_.height;"number"==typeof p.top&&w<p.top&&(this.frameRect.top=p.top),"number"==typeof p.bottom&&w+O>p.bottom&&(this.frameRect.top=p.bottom-O,"number"==typeof p.top&&this.frameRect.top<p.top&&(this.frameRect.top=p.top,this.frameRect.height=p.bottom-p.top)),"number"==typeof p.left&&E<p.left&&(this.frameRect.left=p.left),"number"==typeof p.right&&w+O>p.right&&(this.frameRect.left=p.right-S,"number"==typeof p.left&&this.frameRect.left<p.left&&(this.frameRect.left=p.left,this.frameRect.width=p.right-p.left))}var k=this.state.cursor;if(l){var j=l.call(this,k);j&&"string"==typeof j&&(k=j)}var P={cursor:k,clicked:this.clicked,frameRect:this.frameRect,allowTransition:this.allowTransition},D=o.a.createElement("div",{ref:"title",style:R(R(R({},a.title),i),{},{cursor:k})},"string"!=typeof this.props.titleBar?o.a.cloneElement(this.props.titleBar,{dnrState:P}):this.props.titleBar),T=o.a.Children.map(f,(function(e){return"string"==typeof e?e:o.a.cloneElement(e,{dnrState:P})})),C=u&&this.allowTransition?this.state.transition:{};return!h||d.top===this.frameRect.top&&d.left===this.frameRect.left||setTimeout(h.bind(this,this.frameRect,d)),!y||d.width===this.frameRect.width&&d.height===this.frameRect.height||setTimeout(y.bind(this,this.frameRect,d)),o.a.createElement("div",{ref:"frame",onMouseDownCapture:this._onDown.bind(this),onMouseMoveCapture:function(t){null!==e.clicked&&t.preventDefault()},style:R(R(R(R(R({},a.frame),C),{},{cursor:k},n),this.frameRect),this.clicked?B:{})},D,o.a.createElement("div",{ref:"content",className:"contentClassName",style:R({position:"absolute",width:"100%",top:a.title.height,bottom:0},r)},T))}},{key:"getFrameRect",value:function(){return this.refs.frame.getBoundingClientRect()}},{key:"getDOMFrame",value:function(){return this.refs.frame}},{key:"getTitleRect",value:function(){return this.refs.title.getBoundingClientRect()}},{key:"_cursorStatus",value:function(e){var t=this.getFrameRect();if(this.cursorX=e.clientX,this.cursorY=e.clientY,!this.clicked){var n=this.props.edgeDetectionRange,r=this.cursorY<=t.top+n,o=this.cursorY>=t.bottom-n,i=this.cursorX<=t.left+n,a=this.cursorX>=t.right-n,s="auto";if(r||o||i||a)a&&o||i&&r?s="nwse-resize":a&&r||o&&i?s="nesw-resize":a||i?s="ew-resize":(o||r)&&(s="ns-resize"),e.stopPropagation();else{var c=this.getTitleRect();this.cursorX>c.left&&this.cursorX<c.right&&this.cursorY>c.top&&this.cursorY<c.bottom&&(s="move")}this.hitEdges={top:r,bottom:o,left:i,right:a},s!==this.state.cursor&&this.setState({cursor:s})}}},{key:"_onDown",value:function(e){this.allowTransition=!1,this._cursorStatus(e);var t=this.getFrameRect();this.clicked={x:e.clientX,y:e.clientY,boundingBox:t,frameTop:this.refs.frame.offsetTop,frameLeft:this.refs.frame.offsetLeft}}},{key:"_onUp",value:function(e){this.clicked=null,this._cursorStatus(e)}},{key:"_onMove",value:function(e){this._cursorStatus(e),null!==this.clicked&&this.forceUpdate()}}])&&P(t.prototype,n),r&&P(t,r),a}(o.a.Component);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}function X(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}z.propTypes={titleBar:l.a.oneOfType([l.a.object,l.a.string]),style:l.a.object,contentClassName:l.a.object,contentStyle:l.a.object,titleStyle:l.a.object,theme:l.a.object,minWidth:l.a.number,minHeight:l.a.number,edgeDetectionRange:l.a.number,initialWidth:l.a.number,initialHeight:l.a.number,initialTop:l.a.number,initialLeft:l.a.number,transition:l.a.string,animate:l.a.bool,onMove:l.a.func,onResize:l.a.func,onTransform:l.a.func,cursorRemap:l.a.func,boundary:l.a.object,attachedTo:l.a.object},z.defaultProps={minWidth:20,minHeight:20,edgeDetectionRange:4,theme:N,initialWidth:null,initialHeight:null,initialTop:null,initialLeft:null,animate:!0,attachedTo:window};var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(a,e);var t,n,r,i=W(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={hover:!1,down:!1},t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.hoverStyle,i=t.downStyle,a=t.children,s=t.cursor,c=J(t,["style","hoverStyle","downStyle","children","cursor"]),u=/resize$/.test(s),l=H(H(H(H({},n),this.state.hover&&!u?r:{}),this.state.down&&!u?i:{}),{},{cursor:s});return o.a.createElement("button",A({onMouseEnter:function(){return e.setState({hover:!0})},onMouseLeave:function(){return e.setState({hover:!1,down:!1})},onMouseDown:function(){return e.setState({down:!0})},onMouseUp:function(){return e.setState({down:!1})},style:l},c),a)}}])&&I(t.prototype,n),r&&I(t,r),a}(o.a.Component);function K(e){return o.a.createElement("div",null,o.a.createElement("div",e.buttons,o.a.createElement($,A({},e.button1,{cursor:e.dnrState.cursor}),e.button1Children),o.a.createElement($,A({},e.button2,{cursor:e.dnrState.cursor}),e.button2Children),o.a.createElement($,A({},e.button3,{cursor:e.dnrState.cursor}),e.button3Children)),e.children)}var V=function(e){var t=e.title,n=e.onClose,r=e.onMinimize,i=e.onMaximize,a=e.titleBarColor,s=void 0===a?"#0095ff":a,c={height:25},u={padding:0,margin:0,width:25,height:25,outline:"none",border:"none",textAlign:"center"},l={style:{height:25,position:"absolute",right:0,margin:0,display:"flex",alignItems:"center",verticalAlign:"baseline"}},f={style:H(H({},u),{},{fontSize:"20px",fontWeight:500,lineHeight:"36px",backgroundColor:s}),hoverStyle:{backgroundColor:"#ec6060"},downStyle:{backgroundColor:"#bc4040"},onClick:n},p={style:H(H({},u),{},{lineHeight:"22px",backgroundColor:s}),hoverStyle:{backgroundColor:"rgba(0, 0, 0, 0.1)"},downStyle:{backgroundColor:"rgba(0, 0, 0, 0.2)"},onClick:r},h={style:H(H({},u),{},{lineHeight:"12px",backgroundColor:s}),hoverStyle:{backgroundColor:"rgba(0, 0, 0, 0.1)"},downStyle:{backgroundColor:"rgba(0, 0, 0, 0.2)"},onClick:i};return{theme:{title:H(H({},N.title),{},{fontFamily:"Helvetica, sans-serif",background:s,color:"rgba(0, 0, 0, 0.7)",fontSize:14,height:25}),frame:H({},N.frame),transition:"all 0.25s ease-in-out"},titleBar:o.a.createElement(K,{style:c,buttons:l,button1:p,button2:h,button3:f,button1Children:"‒",button2Children:"□",button3Children:"˟"},o.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},t))}},Q=n("FJL0"),Z=n("raqX"),ee=n("GWmA");function te(e){var t=e.person.username;return o.a.createElement(f.a,{paddingLeft:5,paddingRight:5,paddingBottom:5},o.a.createElement(f.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Male: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.male)),o.a.createElement(f.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Age: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.age)),o.a.createElement(f.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"IMT: "),o.a.createElement(Z.a,{color:"#DDEBF7"},function(e,t){if(void 0===e||void 0===t)return"";var n=e/(t/100*(t/100)),r="";return n>35?r=" (you are very obese so you cannot have children)":n>25&&n<=35?r=" (you are obese in the first degree)":n>18&&n<=25?r=" (you have a normal physique)":n>15&&n<=18?r=" (you have underweight)":n<=15&&(r=" (you are very underweight so you cannot have children)"),"weight - "+e+"kg, growth - "+t+"cm, imt - "+n.toFixed(1)+r}(e.person.weight,e.person.growth))),o.a.createElement(f.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Profession: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.profession)),o.a.createElement(f.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Life: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.life)),o.a.createElement(f.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Phobia: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.phobia)),o.a.createElement(f.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Hobbi: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.hobbi)),o.a.createElement(f.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Character: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.character)),o.a.createElement(f.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Skill: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.skill)),o.a.createElement(f.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Inventar: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.inventar)),o.a.createElement(f.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"First action card: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.action_1)),o.a.createElement(f.a,null,o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Second action card: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.person.action_2)),e.other?o.a.createElement(ee.a,{label:"Notes",value:e.person.note,className:"black-theme",onChange:function(n){return e.changeNoteHandler(n.target.value,t)}}):null)}te.propTypes={person:l.a.object.isRequired,other:l.a.bool.isRequired,changeNoteHandler:l.a.func};var ne=te;function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le={width:"300px",height:"550px",top:"30%",left:"50%",backgroundColor:"rgba(0, 0, 0, 0.8)"},fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(a,e);var t,n,r,i=se(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={selected_field:"male"},t}return t=a,(n=[{key:"checkDisabled",value:function(e,t){if(e.length>0){var n=!1;return e.forEach((function(e){e===t&&(n=!0)})),n}return!1}},{key:"render",value:function(){var e=this;return o.a.createElement(z,oe({ref:"dnr"},V({title:"My person card"}),{style:le}),o.a.createElement(ne,{person:this.props.person,other:!1}),o.a.createElement(f.a,{display:"flex",width:"100%",float:"left"},o.a.createElement(S.a,{width:200,className:"black-theme",marginTop:10,marginLeft:5,defaultValue:"male",label:"Choose field to show: ",onChange:function(t){return e.setState({selected_field:t.target.value})}},o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"male"),value:"male"},"Male"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"age"),value:"age"},"Age"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"growth"),value:"imt"},"IMT"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"profession"),value:"profession"},"Profession"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"life"),value:"life"},"Life"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"phobia"),value:"phobia"},"Phobia"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"hobbi"),value:"hobbi"},"Hobbi"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"character"),value:"character"},"Character"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"skill"),value:"skill"},"Skill"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"inventar"),value:"inventar"},"Inventar"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"action_1"),value:"action_1"},"First action card"),o.a.createElement("option",{disabled:this.checkDisabled(this.props.person.shown_fields,"action_2"),value:"action_2"},"Second action card")),o.a.createElement(h.a,{width:70,marginTop:34,marginLeft:10,intent:"success",className:"black-theme",onClick:function(){return e.props.sendCharacteristicToSocked(e.state.selected_field)}},"Show")))}}])&&ie(t.prototype,n),r&&ie(t,r),a}(o.a.Component);fe.propTypes={person:l.a.object.isRequired,sendCharacteristicToSocked:l.a.func.isRequired};var pe=fe;function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ge(e);if(t){var o=ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e={width:"300px",height:"550px",top:"30%",left:"50%",backgroundColor:"rgba(0, 0, 0, 0.8)"},we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(a,e);var t,n,r,i=be(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("div",null,this.props.other_persons.map((function(e,t){var n=this;return e.is_shown?o.a.createElement(z,ye({key:t,ref:"dnr"},V({title:e.first_name+" "+e.last_name,onClose:function(){return n.props.hideOtherPerson(e.username)},onMinimize:function(){return n.props.hideOtherPerson(e.username)}}),{title:e.first_name+" "+e.last_name,style:_e}),o.a.createElement(ne,{person:e,other:!0,changeNoteHandler:this.props.changeNoteHandler})):null}),this))}}])&&de(t.prototype,n),r&&de(t,r),a}(o.a.Component);we.propTypes={other_persons:l.a.array.isRequired,changeNoteHandler:l.a.func.isRequired,hideOtherPerson:l.a.func.isRequired};var Ee=we;function Se(e){return o.a.createElement("div",{className:"legend"},">",o.a.createElement(f.a,{width:"100%"},o.a.createElement("div",{className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Current turn: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.turn)),o.a.createElement("div",{className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Number of seats in bunker: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.number_of_seats))),o.a.createElement(f.a,{width:"100%",className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Story: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.story)),o.a.createElement(f.a,{width:"100%"},o.a.createElement("div",{className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Bunker square: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.legend.square," m",o.a.createElement("sup",null,"2"))),o.a.createElement("div",{className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Awaiting time in bunker: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.legend.await_time," days")),e.legend.medicines?o.a.createElement("div",{className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"First aid kits: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.legend.medicines)):null,e.legend.armor?o.a.createElement("div",{className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Pistols: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.legend.armor)):null,e.legend.additional_info?o.a.createElement("div",{className:"black-background"},o.a.createElement(Q.a,{color:"#FBE6A2",size:400},"Additional info: "),o.a.createElement(Z.a,{color:"#DDEBF7"},e.legend.additional_info)):null))}Se.propTypes={story:l.a.string.isRequired,legend:l.a.object.isRequired,number_of_seats:l.a.number.isRequired,turn:l.a.number.isRequired};var Oe=Se,ke=n("9T5R"),Re=n("Y+0o");function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var De=function(e){var t=e.remainingTime,n=Object(r.useRef)(t),i=Object(r.useRef)(null),a=Object(r.useRef)(!1),s=je(Object(r.useState)(0),2)[1];n.current!==t?(a.current=!0,i.current=n.current,n.current=t):a.current=!1,0===t&&setTimeout((function(){s((function(e){return e+1}))}),20);var c=a.current;return o.a.createElement("div",{className:"time-wrapper"},o.a.createElement("div",{key:t,className:"time ".concat(c?"up":"")},t),null!==i.current&&o.a.createElement("div",{key:i.current,className:"time ".concat(c?"":"down")},i.current))};function Te(e){return o.a.createElement("div",{className:"timer-wrapper"},o.a.createElement(Re.CountdownCircleTimer,{isPlaying:e.isPlaying,duration:e.duration,colors:[["#004777",.33],["#F7B801",.33],["#A30000"]]},De))}Te.propTypes={duration:l.a.number.isRequired,isPlaying:l.a.bool.isRequired};var Ce=Te;function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ze(e);if(t){var o=ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qe(this,n)}}function qe(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(a,e);var t,n,r,i=Ne(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={isPlaying:!1},t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.state.isPlaying;return o.a.createElement(ke.a,{title:"Your time to talk",isShown:this.props.isShown,width:270,hasFooter:!1,hasClose:!1},o.a.createElement(Ce,{isPlaying:t,duration:this.props.duration}),o.a.createElement("div",{className:"bottom-alert-footer"},o.a.createElement(h.a,{intent:"success",disabled:t,onClick:function(){return e.setState({isPlaying:!0})}},"Start speech"),o.a.createElement(h.a,{appearance:"primary",intent:"danger",onClick:function(){return e.props.passMove()}},"Stop speech")))}}])&&xe(t.prototype,n),r&&xe(t,r),a}(o.a.Component);Me.propTypes={username:l.a.string,duration:l.a.number.isRequired,isShown:l.a.bool,passMove:l.a.func.isRequired};var Ae=Me,Le=n("4EMb"),He=n.n(Le)()(o.a);function Ue(e){return o.a.createElement(f.a,{display:"flex",height:100,width:"100%",float:"left",padding:16,borderRadius:5,background:"rgba(0, 0, 0, 0.3)"},o.a.createElement(f.a,{float:"left",display:"flex",flex:1,justifyContent:"left",alignItems:"center",flexDirection:"row"},e.other_persons.map((function(t,n){return o.a.createElement("div",{key:n},o.a.createElement(He,{autoPosition:!0,events:!0}),o.a.createElement(p.a,{name:t.username,size:80,"data-rh":t.username+", "+t.first_name,marginRight:16,isSolid:e.persons_query[e.current_person-1].username===t.username,onClick:function(t){return e.showOtherPerson(t)}}))}),this)))}Ue.propTypes={other_persons:l.a.array.isRequired,persons_query:l.a.array.isRequired,current_person:l.a.number.isRequired,showOtherPerson:l.a.func.isRequired};var Je=Ue,Ie=n("kFyS"),Ye=n("9UYP");function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ve(e);if(t){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ke(this,n)}}function Ke(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(a,e);var t,n,r,i=$e(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={anyone_person:"",anyone_card:"male"},t}return t=a,(n=[{key:"render",value:function(){var e=this;return o.a.createElement(Ie.a,{isShown:this.props.is_anyperson_shown,title:"Choose anyone",hasFooter:!1,hasClose:!1,shouldCloseOnOverlayClick:!1},o.a.createElement(Ye.a,{openOnFocus:!0,height:40,disabled:!this.props.is_anycard_shown,items:["male","age","IMT","profession","life","phobia","hobbi","character","skill","inventar"],onChange:function(t){return e.setState({anyone_card:t})},placeholder:"Cards"}),o.a.createElement(Ye.a,{openOnFocus:!0,height:40,items:this.props.persons_query.map((function(e){return e.username})),onChange:function(t){return e.setState({anyone_person:t})},placeholder:"Usernames"}),o.a.createElement("div",{className:"bottom-alert-footer"},o.a.createElement(h.a,{intent:"success",onClick:function(){return e.props.someoneSelected(e.state.anyone_person,e.state.anyone_card)}},"Send")))}}])&&Xe(t.prototype,n),r&&Xe(t,r),a}(o.a.Component);Qe.propTypes={persons_query:l.a.array.isRequired,is_anyperson_shown:l.a.bool.isRequired,is_anycard_shown:l.a.bool.isRequired,someoneSelected:l.a.func.isRequired};var Ze=Qe;function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=it(e);if(t){var o=it(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ot(this,n)}}function ot(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(a,e);var t,n,r,i=rt(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={person_to_kick:""},t}return t=a,(n=[{key:"render",value:function(){var e=this;return o.a.createElement(ke.a,{title:"Time to kick someone",isShown:this.props.is_round_over,width:320,hasFooter:!1,hasClose:!1},o.a.createElement(Ye.a,{openOnFocus:!0,height:40,items:this.props.persons_query.map((function(e){return e.username})),onChange:function(t){return e.setState({person_to_kick:t})},placeholder:"Usernames"}),o.a.createElement("div",{className:"bottom-alert-footer"},o.a.createElement(h.a,{intent:"success",onClick:function(){return e.props.kickSelectedPlayer(e.state.person_to_kick)}},"Kick now")))}}])&&tt(t.prototype,n),r&&tt(t,r),a}(o.a.Component);at.propTypes={persons_query:l.a.array.isRequired,is_round_over:l.a.bool.isRequired,kickSelectedPlayer:l.a.func.isRequired};var st=at;function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt(e);if(t){var o=yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pt(this,n)}}function pt(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?ht(e):t}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(a,e);var t,n,r,i=ft(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={error:null,isLoaded:!1,person:{},other_persons:[],lobby_state:"",story:"",legend:{},number_of_seats:1,turn:1,is_round_over:!1,is_anyperson_shown:!1,is_anycard_shown:!1,current_person:1,persons_query:[]},t.selected_field="",t.passMove=t.passMove.bind(ht(t)),t.showOtherPerson=t.showOtherPerson.bind(ht(t)),t.hideOtherPerson=t.hideOtherPerson.bind(ht(t)),t.sendCharacteristicToSocked=t.sendCharacteristicToSocked.bind(ht(t)),t.kickSelectedPlayer=t.kickSelectedPlayer.bind(ht(t)),t.someoneSelected=t.someoneSelected.bind(ht(t)),t.changeNoteHandler=t.changeNoteHandler.bind(ht(t)),t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;if(/person/i.test(window.location.href)){if("https:"==window.location.protocol)var t="wss://";else t="ws://";this.connection=new c.a(t+window.location.host+"/persons"),this.connection.onmessage=function(t){if("update_fields"===t.data)fetch("/get_all_persons",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,lobby_state:t.lobby_state,person:t.current_user,other_persons:t.other_users,story:t.story,legend:t.legend,number_of_seats:t.number_of_seats,turn:t.turn,current_person:t.current_person,persons_query:t.persons_query,is_round_over:t.is_round_over})}));else{var n=JSON.parse(t.data);void 0!==n.update_turn&&e.setState({turn:n.update_turn.turn,current_person:n.update_turn.current_person,is_round_over:n.update_turn.is_round_over})}},fetch("/get_all_persons",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,lobby_state:t.lobby_state,person:t.current_user,other_persons:t.other_users,story:t.story,legend:t.legend,number_of_seats:t.number_of_seats,turn:t.turn,current_person:t.current_person,persons_query:t.persons_query})}),(function(t){console.log(t),e.setState({isLoaded:!0,error:t})}))}else window.location.href="/person/"}},{key:"sendCharacteristicToSocked",value:function(e){var t=this;""!==e&&(this.selected_field=e,"action_1"===e||"action_2"===e?fetch("/get_fields_action",{method:"POST",body:JSON.stringify({field:e})}).then((function(e){return e.json()})).then((function(n){n.is_anyperson_shown||n.is_anycard_shown?t.setState({is_anyperson_shown:n.is_anyperson_shown,is_anycard_shown:n.is_anycard_shown}):t.connection.send(JSON.stringify({value:e}))})):"imt"===e?this.connection.send(JSON.stringify({value:["growth","weight"]})):this.connection.send(JSON.stringify({value:e})))}},{key:"someoneSelected",value:function(e,t){this.state.is_anycard_shown?(this.connection.send(JSON.stringify({value:this.selected_field,someone:e,card:t})),this.setState({is_anyperson_shown:!1,is_anycard_shown:!1})):(this.connection.send(JSON.stringify({value:this.selected_field,someone:e})),this.setState({is_anyperson_shown:!1}))}},{key:"showOtherPerson",value:function(e){var t=this.state.other_persons,n=e.currentTarget.title;t.forEach((function(e){if(e.username===n){var t=e.is_shown;e.is_shown=!t}})),this.sendOtherState(),this.setState({other_persons:t})}},{key:"hideOtherPerson",value:function(e){var t=this.state.other_persons;t.forEach((function(t){t.username===e&&(t.is_shown=!1)})),this.sendOtherState(),this.setState({other_persons:t})}},{key:"passMove",value:function(){this.connection.send(JSON.stringify({current_person:this.state.current_person}))}},{key:"kickSelectedPlayer",value:function(e){this.connection.send(JSON.stringify({kick_person:e,username:this.state.person.username}))}},{key:"changeNoteHandler",value:function(e,t){var n=this.state.other_persons;n.forEach((function(n){n.username===t&&(n.note=e)})),this.sendOtherState(),this.setState({other_persons:n})}},{key:"sendOtherState",value:function(){var e=this.state.other_persons;e.map((function(e){return{username:e.username,is_shown:e.is_shown,note:e.note}})),this.connection.send(JSON.stringify({change_card_state:e,username:this.state.person.username}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.error,r=t.isLoaded,i=t.person,a=t.other_persons,c=t.number_of_seats,u=t.legend,l=t.story,f=t.turn,p=t.current_person,h=t.persons_query,y=t.is_round_over,d=t.is_anyperson_shown,m=t.is_anycard_shown;return n?o.a.createElement("div",null):r?o.a.createElement("div",{width:"100%",height:"100%"},o.a.createElement(Je,{other_persons:a,persons_query:h,current_person:p,showOtherPerson:this.showOtherPerson}),o.a.createElement(Oe,{story:l,legend:u,number_of_seats:c,turn:f}),o.a.createElement(Ae,{username:i.username,duration:i.speak_time,isShown:h[p-1].username===i.username&&!y,passMove:function(){return e.passMove()}}),o.a.createElement(st,{persons_query:h,is_round_over:y,kickSelectedPlayer:this.kickSelectedPlayer}),o.a.createElement(Ze,{persons_query:h,is_anyperson_shown:d,is_anycard_shown:m,someoneSelected:this.someoneSelected}),o.a.createElement(pe,{person:i,sendCharacteristicToSocked:this.sendCharacteristicToSocked}),o.a.createElement(Ee,{other_persons:a,changeNoteHandler:this.changeNoteHandler,hideOtherPerson:this.hideOtherPerson})):o.a.createElement(s.a,{size:32})}}])&&ut(t.prototype,n),r&&ut(t,r),a}(o.a.Component);function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wt(e);if(t){var o=wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(a,e);var t,n,r,i=gt(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={isLoaded:!1,lobby_state:"",users:[]},t}return t=a,(n=[{key:"componentDidMount",value:function(){var e,t,n=this;e="https:"==window.location.protocol?"wss://":"ws://",console.log(window.location.path),t="/lobby/"==window.location.pathname?"/lobby":"/persons",this.connection=new c.a(e+window.location.host+t),this.connection.onmessage=function(e){var t=JSON.parse(e.data);console.log(t),t.lobby_state&&n.setState({isLoaded:!0,lobby_state:t.lobby_state,users:t.users})},this.connection.send(JSON.stringify({update_lobby:!0}))}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,n=e.users,r=e.lobby_state;return t?"S"===r?o.a.createElement(dt,null):"R"===r?o.a.createElement(E,{lobby_state:r,users:n,connection:this.connection}):void 0:o.a.createElement(s.a,{size:32})}}])&&bt(t.prototype,n),r&&bt(t,r),a}(o.a.Component);a.a.render(o.a.createElement(Et,null),document.getElementById("app"))}},[["tjUo",7,2,6,3,4,1,5,8]]]);